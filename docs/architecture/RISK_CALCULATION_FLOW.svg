<svg viewBox="0 0 1400 1200" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { fill: #1f2937; font-size: 20px; font-weight: bold; }
      .subtitle { fill: #4b5563; font-size: 14px; font-weight: bold; }
      .label { fill: #1f2937; font-size: 12px; font-weight: bold; }
      .text { fill: #4b5563; font-size: 11px; }
      .input-box { fill: #f0f9ff; stroke: #3b82f6; stroke-width: 2; }
      .calc-box { fill: #dbeafe; stroke: #2563eb; stroke-width: 2; }
      .result-box { fill: #dcfce7; stroke: #16a34a; stroke-width: 2; }
      .risk1 { fill: #dcfce7; stroke: #16a34a; stroke-width: 2; } /* Green */
      .risk2 { fill: #fef3c7; stroke: #f59e0b; stroke-width: 2; } /* Yellow */
      .risk3 { fill: #fee2e2; stroke: #dc2626; stroke-width: 2; } /* Red */
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0 10 3 0 6" fill="#333" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="700" y="30" text-anchor="middle" class="title">Risk Assessment & Calculation Flow</text>

  <!-- SECTION 1: Data Input -->
  <text x="50" y="80" class="subtitle">1. DATA INPUT & PREPARATION</text>
  <rect x="40" y="90" width="1320" height="1" fill="#d1d5db"/>

  <!-- MCU Data -->
  <rect x="50" y="110" width="120" height="100" class="input-box" rx="5"/>
  <text x="110" y="135" text-anchor="middle" class="label">MCU Data</text>
  <text x="110" y="155" text-anchor="middle" class="text">• Age</text>
  <text x="110" y="170" text-anchor="middle" class="text">• Blood Pressure</text>
  <text x="110" y="185" text-anchor="middle" class="text">• BMI</text>
  <text x="110" y="200" text-anchor="middle" class="text">• Smoking</text>

  <!-- Lab Results -->
  <rect x="200" y="110" width="120" height="100" class="input-box" rx="5"/>
  <text x="260" y="135" text-anchor="middle" class="label">Lab Results</text>
  <text x="260" y="155" text-anchor="middle" class="text">• Triglycerides</text>
  <text x="260" y="170" text-anchor="middle" class="text">• HDL</text>
  <text x="260" y="185" text-anchor="middle" class="text">• Glucose</text>
  <text x="260" y="200" text-anchor="middle" class="text">• (Lab Items)</text>

  <!-- Medical History -->
  <rect x="350" y="110" width="120" height="100" class="input-box" rx="5"/>
  <text x="410" y="135" text-anchor="middle" class="label">Med. History</text>
  <text x="410" y="155" text-anchor="middle" class="text">• Diabetes</text>
  <text x="410" y="170" text-anchor="middle" class="text">• Hypertension</text>
  <text x="410" y="185" text-anchor="middle" class="text">• Heart Disease</text>
  <text x="410" y="200" text-anchor="middle" class="text">• Exercise</text>

  <!-- Employee Data -->
  <rect x="500" y="110" width="120" height="100" class="input-box" rx="5"/>
  <text x="560" y="135" text-anchor="middle" class="label">Employee</text>
  <text x="560" y="155" text-anchor="middle" class="text">• Gender</text>
  <text x="560" y="170" text-anchor="middle" class="text">• Age/DOB</text>
  <text x="560" y="185" text-anchor="middle" class="text">• Department</text>
  <text x="560" y="200" text-anchor="middle" class="text">• Job Title</text>

  <!-- Arrows down -->
  <path d="M 110 210 L 110 260" class="arrow"/>
  <path d="M 260 210 L 260 260" class="arrow"/>
  <path d="M 410 210 L 410 260" class="arrow"/>
  <path d="M 560 210 L 560 260" class="arrow"/>

  <!-- SECTION 2: Jakarta CV Calculation -->
  <text x="50" y="290" class="subtitle">2. JAKARTA CARDIOVASCULAR RISK SCORE</text>
  <rect x="40" y="300" width="600" height="1" fill="#d1d5db"/>

  <!-- Jakarta Parameters -->
  <rect x="50" y="320" width="280" height="140" class="calc-box" rx="5"/>
  <text x="190" y="340" text-anchor="middle" class="label">Calculate Parameters</text>
  <text x="70" y="360" class="text">1. Age (years)</text>
  <text x="70" y="380" class="text">2. Systolic BP (mmHg)</text>
  <text x="70" y="400" class="text">3. BMI (kg/m²)</text>
  <text x="70" y="420" class="text">4. Smoking Status</text>
  <text x="70" y="440" class="text">5. Diabetes</text>
  <text x="70" y="460" text-anchor="start" class="text">6. Exercise Frequency</text>

  <!-- Framingham Formula -->
  <path d="M 330 390 L 420 390" class="arrow"/>
  <rect x="420" y="340" width="200" height="100" class="calc-box" rx="5"/>
  <text x="520" y="360" text-anchor="middle" class="label">Framingham</text>
  <text x="520" y="380" text-anchor="middle" class="text">Score Calculation</text>
  <text x="520" y="400" text-anchor="middle" class="text">Base score from</text>
  <text x="520" y="420" text-anchor="middle" class="text">7 parameters</text>

  <!-- Jakarta Risk Formula -->
  <path d="M 620 390 L 710 390" class="arrow"/>
  <rect x="710" y="320" width="200" height="140" class="calc-box" rx="5"/>
  <text x="810" y="340" text-anchor="middle" class="label">Jakarta Risk</text>
  <text x="810" y="360" text-anchor="middle" class="text">Formula</text>
  <text x="810" y="380" text-anchor="middle" class="text" font-size="10">Male: score = (age×0.06)</text>
  <text x="810" y="395" text-anchor="middle" class="text" font-size="10">+ (bp×0.01) ...</text>
  <text x="810" y="410" text-anchor="middle" class="text" font-size="10">Female: different</text>
  <text x="810" y="425" text-anchor="middle" class="text" font-size="10">coefficients</text>

  <!-- CV Risk Result -->
  <path d="M 810 460 L 810 510" class="arrow"/>
  <rect x="710" y="510" width="200" height="80" class="result-box" rx="5"/>
  <text x="810" y="535" text-anchor="middle" class="label">CV Risk Score</text>
  <text x="810" y="555" text-anchor="middle" class="text">Range: -7 to +13</text>
  <text x="810" y="575" text-anchor="middle" class="text">Output: Risk 1/2/3</text>

  <!-- CV Risk Classification -->
  <text x="50" y="640" class="text">Risk 1 (Low): Score -7 to -1</text>
  <text x="50" y="660" class="text">Risk 2 (Medium): Score 0 to +5</text>
  <text x="50" y="680" class="text">Risk 3 (High): Score +6 to +13</text>

  <!-- SECTION 3: Metabolic Syndrome -->
  <text x="50" y="730" class="subtitle">3. METABOLIC SYNDROME SCORING (Binary 0 or 1)</text>
  <rect x="40" y="740" width="600" height="1" fill="#d1d5db"/>

  <!-- Parameter 1: Waist Circumference -->
  <rect x="50" y="760" width="110" height="120" class="input-box" rx="5"/>
  <text x="105" y="775" text-anchor="middle" class="label">1. Waist</text>
  <text x="105" y="795" text-anchor="middle" class="text">Male:</text>
  <text x="105" y="810" text-anchor="middle" class="text">&lt;90=0</text>
  <text x="105" y="825" text-anchor="middle" class="text">≥90=1</text>
  <text x="105" y="840" text-anchor="middle" class="text">Female:</text>
  <text x="105" y="855" text-anchor="middle" class="text">&lt;80=0</text>
  <text x="105" y="870" text-anchor="middle" class="text">≥80=1</text>

  <!-- Parameter 2: Triglycerides -->
  <rect x="170" y="760" width="110" height="120" class="input-box" rx="5"/>
  <text x="225" y="775" text-anchor="middle" class="label">2. Triglycerides</text>
  <text x="225" y="800" text-anchor="middle" class="text">&lt;150=0</text>
  <text x="225" y="815" text-anchor="middle" class="text">≥150=1</text>
  <text x="225" y="835" text-anchor="middle" class="text" font-size="9">(mg/dL)</text>

  <!-- Parameter 3: HDL -->
  <rect x="290" y="760" width="110" height="120" class="input-box" rx="5"/>
  <text x="345" y="775" text-anchor="middle" class="label">3. HDL</text>
  <text x="345" y="795" text-anchor="middle" class="text">Male:</text>
  <text x="345" y="810" text-anchor="middle" class="text">&lt;40=1</text>
  <text x="345" y="825" text-anchor="middle" class="text">≥40=0</text>
  <text x="345" y="840" text-anchor="middle" class="text">Female:</text>
  <text x="345" y="855" text-anchor="middle" class="text">&lt;50=1</text>
  <text x="345" y="870" text-anchor="middle" class="text">≥50=0</text>

  <!-- Parameter 4: Blood Pressure -->
  <rect x="410" y="760" width="110" height="120" class="input-box" rx="5"/>
  <text x="465" y="775" text-anchor="middle" class="label">4. Blood Pressure</text>
  <text x="465" y="800" text-anchor="middle" class="text">&lt;130/85=0</text>
  <text x="465" y="820" text-anchor="middle" class="text">≥130 OR</text>
  <text x="465" y="835" text-anchor="middle" class="text">≥85=1</text>
  <text x="465" y="855" text-anchor="middle" class="text">(mmHg)</text>

  <!-- Parameter 5: Glucose -->
  <rect x="530" y="760" width="110" height="120" class="input-box" rx="5"/>
  <text x="585" y="775" text-anchor="middle" class="label">5. Fasting</text>
  <text x="585" y="790" text-anchor="middle" class="label">Glucose</text>
  <text x="585" y="810" text-anchor="middle" class="text">&lt;100 (no</text>
  <text x="585" y="825" text-anchor="middle" class="text">diabetes)=0</text>
  <text x="585" y="840" text-anchor="middle" class="text">≥100 (or</text>
  <text x="585" y="855" text-anchor="middle" class="text">diabetic)=1</text>

  <!-- Arrows to calculation -->
  <path d="M 105 880 L 105 920" class="arrow"/>
  <path d="M 225 880 L 225 920" class="arrow"/>
  <path d="M 345 880 L 345 920" class="arrow"/>
  <path d="M 465 880 L 465 920" class="arrow"/>
  <path d="M 585 880 L 585 920" class="arrow"/>

  <!-- Binary Scoring -->
  <rect x="50" y="920" width="590" height="80" class="calc-box" rx="5"/>
  <text x="345" y="940" text-anchor="middle" class="label">Binary Scoring</text>
  <text x="345" y="960" text-anchor="middle" class="text">Total Score = LP + TG + HDL + TD + GDP (Range: 0-5)</text>
  <text x="345" y="980" text-anchor="middle" class="text">Example: LP=1, TG=0, HDL=1, TD=0, GDP=0 → Total = 2</text>

  <!-- SECTION 4: Risk Classification -->
  <text x="50" y="1040" class="subtitle">4. RISK CLASSIFICATION (LP-DEPENDENT)</text>
  <rect x="40" y="1050" width="1320" height="1" fill="#d1d5db"/>

  <!-- Risk 1 -->
  <rect x="50" y="1070" width="180" height="100" class="risk1" rx="5"/>
  <text x="140" y="1090" text-anchor="middle" class="label">RISK 1 (Low)</text>
  <text x="140" y="1110" text-anchor="middle" class="text">Total ≤ 2</text>
  <text x="140" y="1125" text-anchor="middle" class="text">AND</text>
  <text x="140" y="1140" text-anchor="middle" class="text">LP = 0</text>
  <text x="140" y="1160" text-anchor="middle" class="text" font-size="9">(Green)</text>

  <!-- Risk 2 -->
  <rect x="270" y="1070" width="180" height="100" class="risk2" rx="5"/>
  <text x="360" y="1090" text-anchor="middle" class="label">RISK 2 (Medium)</text>
  <text x="360" y="1110" text-anchor="middle" class="text">Total ≤ 2</text>
  <text x="360" y="1125" text-anchor="middle" class="text">AND</text>
  <text x="360" y="1140" text-anchor="middle" class="text">LP = 1</text>
  <text x="360" y="1160" text-anchor="middle" class="text" font-size="9">(Yellow)</text>

  <!-- Risk 3 -->
  <rect x="490" y="1070" width="180" height="100" class="risk3" rx="5"/>
  <text x="580" y="1090" text-anchor="middle" class="label">RISK 3 (High)</text>
  <text x="580" y="1110" text-anchor="middle" class="text">Total ≥ 3</text>
  <text x="580" y="1125" text-anchor="middle" class="text">(regardless</text>
  <text x="580" y="1140" text-anchor="middle" class="text">of LP)</text>
  <text x="580" y="1160" text-anchor="middle" class="text" font-size="9">(Red)</text>

  <!-- Meaning -->
  <text x="140" y="1190" text-anchor="middle" class="text" font-size="10">Normal/Low</text>
  <text x="140" y="1205" text-anchor="middle" class="text" font-size="10">No abnormal waist</text>

  <text x="360" y="1190" text-anchor="middle" class="text" font-size="10">Medium Risk</text>
  <text x="360" y="1205" text-anchor="middle" class="text" font-size="10">Has abnormal waist</text>

  <text x="580" y="1190" text-anchor="middle" class="text" font-size="10">Metabolic Syndrome</text>
  <text x="580" y="1205" text-anchor="middle" class="text" font-size="10">3+ criteria present</text>

  <!-- SECTION 5: Risk Matrix -->
  <text x="750" y="1040" class="subtitle">5. RISK MATRIX (CV × METABOLIC)</text>
  <rect x="740" y="1050" width="620" height="1" fill="#d1d5db"/>

  <!-- Matrix Table -->
  <rect x="750" y="1070" width="60" height="40" fill="white" stroke="#999" stroke-width="1"/>
  <text x="780" y="1095" text-anchor="middle" class="text" font-weight="bold">CV/Meta</text>

  <rect x="810" y="1070" width="60" height="40" fill="#dcfce7" stroke="#999" stroke-width="1"/>
  <text x="840" y="1095" text-anchor="middle" class="text" font-weight="bold">1</text>

  <rect x="870" y="1070" width="60" height="40" fill="#fef3c7" stroke="#999" stroke-width="1"/>
  <text x="900" y="1095" text-anchor="middle" class="text" font-weight="bold">2</text>

  <rect x="930" y="1070" width="60" height="40" fill="#fee2e2" stroke="#999" stroke-width="1"/>
  <text x="960" y="1095" text-anchor="middle" class="text" font-weight="bold">3</text>

  <!-- Row 1 -->
  <rect x="750" y="1110" width="60" height="40" fill="white" stroke="#999" stroke-width="1"/>
  <text x="780" y="1135" text-anchor="middle" class="text" font-weight="bold">1</text>

  <rect x="810" y="1110" width="60" height="40" fill="#dcfce7" stroke="#999" stroke-width="1"/>
  <text x="840" y="1135" text-anchor="middle" class="text" font-weight="bold">1</text>

  <rect x="870" y="1110" width="60" height="40" fill="#fef3c7" stroke="#999" stroke-width="1"/>
  <text x="900" y="1135" text-anchor="middle" class="text" font-weight="bold">2</text>

  <rect x="930" y="1110" width="60" height="40" fill="#fee2e2" stroke="#999" stroke-width="1"/>
  <text x="960" y="1135" text-anchor="middle" class="text" font-weight="bold">3</text>

  <!-- Row 2 -->
  <rect x="750" y="1150" width="60" height="40" fill="white" stroke="#999" stroke-width="1"/>
  <text x="780" y="1175" text-anchor="middle" class="text" font-weight="bold">2</text>

  <rect x="810" y="1150" width="60" height="40" fill="#fef3c7" stroke="#999" stroke-width="1"/>
  <text x="840" y="1175" text-anchor="middle" class="text" font-weight="bold">2</text>

  <rect x="870" y="1150" width="60" height="40" fill="#fee2e2" stroke="#999" stroke-width="1"/>
  <text x="900" y="1175" text-anchor="middle" class="text" font-weight="bold">4</text>

  <rect x="930" y="1150" width="60" height="40" fill="#fee2e2" stroke="#999" stroke-width="1"/>
  <text x="960" y="1175" text-anchor="middle" class="text" font-weight="bold">6</text>

  <!-- Row 3 -->
  <rect x="750" y="1190" width="60" height="40" fill="white" stroke="#999" stroke-width="1"/>
  <text x="780" y="1215" text-anchor="middle" class="text" font-weight="bold">3</text>

  <rect x="810" y="1190" width="60" height="40" fill="#fee2e2" stroke="#999" stroke-width="1"/>
  <text x="840" y="1215" text-anchor="middle" class="text" font-weight="bold">3</text>

  <rect x="870" y="1190" width="60" height="40" fill="#fee2e2" stroke="#999" stroke-width="1"/>
  <text x="900" y="1215" text-anchor="middle" class="text" font-weight="bold">6</text>

  <rect x="930" y="1190" width="60" height="40" fill="#fee2e2" stroke="#999" stroke-width="1"/>
  <text x="960" y="1215" text-anchor="middle" class="text" font-weight="bold">9</text>

  <!-- Final Risk Levels -->
  <text x="1050" y="1095" class="text">1 = LOW (Green)</text>
  <text x="1050" y="1115" class="text">2-3 = LOW-MEDIUM</text>
  <text x="1050" y="1135" class="text">4 = MEDIUM (Yellow)</text>
  <text x="1050" y="1155" class="text">6 = HIGH (Orange)</text>
  <text x="1050" y="1175" class="text">9 = CRITICAL (Red)</text>
  <text x="1050" y="1195" class="text">→ Dashboard display</text>
</svg>